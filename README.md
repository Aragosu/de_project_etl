# Проект по DE: разработка ETL-процесса

#### Что делает данный репозиторий:
1. Принимает входящие данные:
   Данные о транзакциях, терминалах, черном списке паспортов из файлов.
   Данные о клиентах, счетах и картах из базы данных.
2. Загружает данные в хранилище (Data Warehouse) со спецификацией (STG/FACT/DIM):
   Временные таблицы для предварительной обработки данных (STG).
   Основные таблицы измерений (DIM) и фактов (FACT).
4. Выявляет мошеннические операции и загружает по ним отчет в хранилище:
   Строится витриа данных (отчет с пометкой REP_FRAUD) с выявленными мошенническими операциями по заданным правилам.
   Витрина строится накоплением, каждый новый отчет за новый день укладывается в эту же таблицу с новым report_dt.


#### Содержание репозитория:
**файлы:**
main.cron - простая автоматизация с cron
main.ddl - файл для создания всех объектов в БД
main.py - сам скрипт ETL-процесса
sql_scripts.sql - доп.скрипты (для дебага)
terminals_DDMMYY.xlsx, passport_blacklist_DDMMYY.xlsx, transactions_DDMMYY.txt - входные данные для ETL-процесса
**папки:**
archive - папки куда уходят входные данные для ETL-процесса после отработки
other_days - (для дебага)


#### Как протестировать работу ETL (с нуля):
1. Скопировать репозиторий себе на компьютер;
2. Открыть в main.ddl через dbeaver, выбрать все строчки (ctrl+A) и запустить (ctrl+enter);
3. Открыть main.py через любую ide для работы с .py (в моем случае pycharm), поменять креды на свои как на скрине ниже (или написать мне в tg) и запустить скрипт
![image](https://github.com/user-attachments/assets/98bbfea3-7d60-4a15-b2c2-c069f208ad77)

**Мой tg:** @Aragosu
